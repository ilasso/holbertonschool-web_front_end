<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Task 2</title>
  </head>
  <body>
    <h1>Login to the website</h1>
    <input id="firstname" type="text" name="email" value="Firstname">
    <input id="email" type="text" name="email" value="Email">
    <button type="button" name="buttonlogmein" onclick="setCookies()">Log me in</button>
    <h1>Cookies</h1>
    <button type="button" name="buttonshowcookies" onclick="showCookies()">Show the cookies</button>

    <script type="text/javascript">
      function setCookies() {
        let exdays = 10 // 3 days
        let d = new Date();
        d.setTime(d.getTime() + (exdays*24*60*60*1000));
        let expires = "expires="+ d.toUTCString();
        document.cookie = "firstname" + "=" + `${document.getElementById('firstname').value}` + ";" + expires + ";path=/";
        let cookie = "firstname" + "=" + `${document.getElementById('firstname').value}` + ";" + expires + ";path=/";
        document.cookie = "email" + "=" + `${document.getElementById('email').value}` + ";" + expires + ";path=/";
        }
        
      function showCookies() {
        let p = document.createElement("p");
        p.innerText = `Email: ${getCookie("email")} - Firstname: ${getCookie("firstname")}`;
        document.body.appendChild(p);
      }

      function getCookie(name) {
        let cname = name + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
           }
          if (c.indexOf(cname) == 0) {
            return c.substring(cname.length, c.length);
          }
         }
         return "";
      }
    </script>
  </body>
</html>
